var link=document.querySelector(".address-btn"),write=document.querySelector(".write"),close=write.querySelector(".write-close"),form=write.querySelector("form"),name=write.querySelector("[name=name]"),email=write.querySelector("[name=email]"),message=write.querySelector("[name=message]"),isStorageSupport=!0,nameStorage="",emailStorage="";try{nameStorage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),write.classList.add("write-show"),nameStorage?(name.value=nameStorage,email.value=emailStorage,message.focus()):name.focus()}),close.addEventListener("click",function(e){e.preventDefault(),write.classList.remove("write-show"),write.classList.remove("write-error")}),form.addEventListener("submit",function(e){name.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("name",name.value),localStorage.setItem("email",email.value)):(e.preventDefault(),write.classList.remove("write-error"),write.offsetWidth=write.offsetWidth,write.classList.add("write-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),write.classList.contains("write-show")&&(write.classList.remove("write-show"),write.classList.remove("write-error")))});